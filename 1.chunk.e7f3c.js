webpackJsonp([1],{"4QEP":function(){},KeK4:function(e,t,a){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return m});var o,i,s=a("KM04"),c=(a.n(s),a("/QC5")),d=a("4QEP"),l=(a.n(d),a("E/bI")),h=a("/m+c"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},p=function(e){return{words:e.word.words,wordsDate:e.word.wordsDate,isAdmin:e.user.isAdmin}},b=Object(s.h)("p",{className:"date"}," "),w=Object(s.h)("span",null," Lưu "),m=(o=Object(l.b)(p,h.f))(i=function(e){function t(t){var a=n(this,e.call(this,t));return a.handleChange=function(e){a.setState(function(t){var a;return{word:u({},t.word,(a={},a[e.target.name]=e.target.value,a))}})},a.handleClick=function(){a.checkValid()||a.regFirestore()},a.state={word:{word:"",mean_vi:"",mean_en:"",synonym:"",created_at:Math.round((new Date).getTime()/1e3),updated_at:Math.round((new Date).getTime()/1e3)},valid:{word:"",mean_vi:""}},a}return r(t,e),t.prototype.regFirestore=function(){var e=u({},this.state.word);e.created_at=dateNow(),e.updated_at=dateNow(),db.collection("words").add(e).then(function(){Object(c.c)("/",!0)}).catch(function(e){console.error("Error writing document: ",e)})},t.prototype.regRealtimeDb=function(){var e=this,t=db.ref("words").child("all").push().key,a=u({},this.state);word.created_at=Math.round((new Date).getTime()/1e3);var n={};if(t){var r=dateNow()||new Date;n["all/"+t]=a,n["date/"+r+"/"+t]=a,db.ref("words").update(n).then(function(){var n;e.props.addWord((n={},n[t]=a,n))})}},t.prototype.checkValid=function(){var e="";return this.setState({valid:{}}),this.state.word.word||(this.setState({valid:u({},this.state.valid,{word:"Từ vựng không được để trống"})}),e="error"),this.state.word.mean_vi||(this.setState({valid:u({},this.state.valid,{mean_vi:"Nghĩa tiếng việt không được để trống"})}),e="error"),e},t.prototype.render=function(){return Object(s.h)("div",null,Object(s.h)("div",{className:"word-wrap"},b,Object(s.h)("ul",{className:"word-list",style:"margin-top:10px"},Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Từ vựng",name:"word",type:"text",value:this.state.word.word,onChange:this.handleChange}),Object(s.h)("span",{className:"error"},this.state.valid.word)),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("textarea",{className:"input",placeholder:"Nghĩa tiếng việt",name:"mean_vi",type:"text",onChange:this.handleChange,rows:"5"},this.state.word.mean_vi),Object(s.h)("span",{className:"error"},this.state.valid.mean_vi)),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("textarea",{className:"input",placeholder:"Nghĩa tiếng anh",name:"mean_en",type:"text",onChange:this.handleChange,rows:"5"},this.state.word.mean_en)),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Từ đồng nghĩa",name:"synonym",type:"text",value:this.state.word.synonym,onChange:this.handleChange})),Object(s.h)("li",{className:"m-b-20"},Object(s.h)("button",{className:"btn btn-save",onClick:this.handleClick},w)))))},t}(s.Component))||i}});
//# sourceMappingURL=1.chunk.e7f3c.js.map