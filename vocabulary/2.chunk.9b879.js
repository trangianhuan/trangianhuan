webpackJsonp([2],{u9QY:function(e,t,a){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),a.d(t,"default",function(){return g});var c,i,o=a("KM04"),l=(a.n(o),a("E/bI")),r=a("/m+c"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},h=function(e){return{words:e.word.words,wordsDate:e.word.wordsDate,isAdmin:e.user.isAdmin}},m=Object(o.h)("span",{className:"icon"}),u=Object(o.h)("img",{width:"20",height:"20",src:"/images/ic_edit.svg"}),p=Object(o.h)("img",{width:"20",height:"20",src:"/images/ic_trash.svg"}),b=Object(o.h)("p",null,"Chắc chắn xóa?"),O=Object(o.h)("span",{className:"mean-item__title"},"mean vietnameme"),j=Object(o.h)("span",{className:"mean-item__title"},"mean english"),w=Object(o.h)("span",{className:"mean-item__title"},"synonym"),v=Object(o.h)("p",{className:"date"}),f=Object(o.h)("h4",null,"Cập nhập từ vựng"),g=(c=Object(l.b)(h,r.f))(i=function(e){function t(t){var a=n(this,e.call(this,t));return a.cancelDel=function(e){e.stopPropagation(),a.setState({isShowDel:!1})},a.deleteWord=function(e){e.stopPropagation(),db.collection("words").doc(a.state.wordDelKey).delete().then(function(){console.log("Document successfully delete!")}).catch(function(e){console.error("Error writing document: ",e)}),a.setState({isShow:!1,isShowDel:!1})},a.updateWord=function(){a.checkValid()||a.updateFirestore()},a.checkValid=function(){var e="";return a.setState({valid:{}}),a.state.wordEdit.word||(a.setState({valid:d({},a.state.valid,{word:"Từ vựng không được để trống"})}),e="error"),a.state.wordEdit.mean_vi||(a.setState({valid:d({},a.state.valid,{mean_vi:"Nghĩa tiếng việt không được để trống"})}),e="error"),e},a.handleClose=function(){a.setState({isShow:!1})},a.handleChange=function(e){a.setState(function(t){var a;return{wordEdit:d({},t.wordEdit,(a={},a[e.target.name]=e.target.value,a))}})},a.state={wordEdit:{},valid:{word:"",mean_vi:""},isShow:!1,isShowDel:!1},a}return s(t,e),t.prototype.handleClick=function(e){e.currentTarget.classList.contains("active")?e.currentTarget.classList.remove("active"):e.currentTarget.classList.add("active")},t.prototype.handleEditClick=function(e,t,a){e.stopPropagation(),this.setState({wordEdit:a,wordEditKey:t,isShow:!0})},t.prototype.handleDelClick=function(e,t){e.stopPropagation(),this.setState({wordDelKey:t,isShowDel:!0})},t.prototype.updateFirestore=function(){var e=this,t=d({},this.state.wordEdit);t.updated_at=dateNow(),db.collection("words").doc(this.state.wordEditKey).update(t).then(function(){e.setState({isShow:!1}),console.log("Document successfully updated!")}).catch(function(e){console.error("Error writing document: ",e)})},t.prototype.render=function(){var e=this,t="",a="",n=this.props.words.map(function(n){var s=Object.values(n)[0];return s.created_at.substr(0,10)!=a?(t=Object(o.h)("li",{className:"title-item"},Object(o.h)("span",null,s.created_at.substr(0,10))),a=s.created_at.substr(0,10)):t="",Object(o.h)("div",null,t,Object(o.h)("li",{className:""},Object(o.h)("div",{className:"word-item",onClick:e.handleClick},Object(o.h)("span",null,Object.values(n)[0].word,"  "),m,e.props.isAdmin&&Object(o.h)("div",null,Object(o.h)("span",{className:"icon-edit",onClick:function(t){return e.handleEditClick(t,Object.keys(n)[0],Object.values(n)[0])}},u),Object(o.h)("div",{className:"content-wrap"},Object(o.h)("div",{className:"content-detail"},Object(o.h)("div",{className:"icon-del",onClick:function(t){return e.handleDelClick(t,Object.keys(n)[0])}},p),e.state.isShowDel&&Object(o.h)("div",{className:"btn-group arrow_box",id:"nav"},b,Object(o.h)("span",{className:"icon-action cancel",onClick:e.cancelDel},"Hủy"),Object(o.h)("span",{className:"icon-action del",onClick:function(t){return e.deleteWord(t,Object.keys(n)[0])}},"Xóa")))))),Object(o.h)("ul",{className:"word-mean"},Object(o.h)("li",{className:"mean-item"},O,Object(o.h)("p",{className:"mean-item__text"},Object.values(n)[0].mean_vi)),Object(o.h)("li",{className:"mean-item"},j,Object(o.h)("p",{className:"mean-item__text"},Object.values(n)[0].mean_en)),Object(o.h)("li",{className:"mean-item"},w,Object(o.h)("p",{className:"mean-item__text"},Object.values(n)[0].synonym)))))});return Object(o.h)("div",null,Object(o.h)("div",{className:"word-wrap"},v,Object(o.h)("ul",{className:"word-list"},n)),Object(o.h)("div",{id:"modal1",className:"modal",style:{display:this.state.isShow?"block":"none"}},Object(o.h)("span",{class:"close",onClick:this.handleClose},"X"),Object(o.h)("div",{className:"modal-content"},f,Object(o.h)("ul",{className:"word-list"},Object(o.h)("li",{className:"m-b-20"},Object(o.h)("input",{className:"input",placeholder:"Từ vựng",name:"word",type:"text",value:this.state.wordEdit.word,onChange:this.handleChange}),Object(o.h)("span",{className:"error"},this.state.valid.word)),Object(o.h)("li",{className:"m-b-20"},Object(o.h)("textarea",{className:"input",placeholder:"Nghĩa tiếng việt",name:"mean_vi",type:"text",onChange:this.handleChange,rows:"5"},this.state.wordEdit.mean_vi),Object(o.h)("span",{className:"error"},this.state.valid.mean_vi)),Object(o.h)("li",{className:"m-b-20"},Object(o.h)("textarea",{className:"input",placeholder:"Nghĩa tiếng anh",name:"mean_en",type:"text",onChange:this.handleChange,rows:"5"},this.state.wordEdit.mean_en)),Object(o.h)("li",{className:"m-b-20"},Object(o.h)("input",{className:"input",placeholder:"Từ đồng nghĩa",name:"synonym",type:"text",value:this.state.wordEdit.synonym,onChange:this.handleChange})))),Object(o.h)("div",{className:"modal-footer"},Object(o.h)("a",{href:"javascript:void(0)",onClick:this.updateWord,className:" modal-action modal-close waves-effect waves-green btn-flat"},"Lưu"))))},t}(o.Component))||i}});
//# sourceMappingURL=2.chunk.9b879.js.map