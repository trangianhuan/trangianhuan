import{S as e,i as a,s as t,e as r,b as d,c as l,d as n,n as c,f as s,A as i,t as o,a as f,v as m,y as u,H as N,B as h,u as p,l as g,C as v,g as F,D as $}from"./index-4579a463.js";import{j as _,c as D,m as w,p as b,q as x,r as j}from"./index-e66b9151.js";import"./common-a441c096.js";function C(e,a,t){const r=Object.create(e);return r.feed=a[t],r}function k(e,a,t){const r=Object.create(e);return r.feedName=a[t],r}function O(e,a,t){const r=Object.create(e);return r.feed=a[t],r}function y(e,a,t){const r=Object.create(e);return r.feedName=a[t],r}function T(e){var a,t;return{c(){a=r("div"),t=r("img"),d(t,"src",baseUrl+"/images/load.gif"),d(a,"class","load")},m(e,r){l(e,a,r),n(a,t)},p:c,d(e){e&&s(a)}}}function S(e){var a;let t=e.$arrFeedName,r=[];for(let a=0;a<t.length;a+=1)r[a]=q(y(e,t,a));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();a=i()},m(e,t){for(let a=0;a<r.length;a+=1)r[a].m(e,t);l(e,a,t)},p(e,d){if(e.$arrFeedDataNew||e.$arrFeedName||e.formatDate||e.stripTag){let l;for(t=d.$arrFeedName,l=0;l<t.length;l+=1){const n=y(d,t,l);r[l]?r[l].p(e,n):(r[l]=q(n),r[l].c(),r[l].m(a.parentNode,a))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(e){u(r,e),e&&s(a)}}}function H(e){var a,t,c,N,h=e.feedName+"";let p=e.$arrFeedDataNew[e.feedName],g=[];for(let a=0;a<p.length;a+=1)g[a]=L(O(e,p,a));return{c(){a=r("div"),t=o(h),c=f();for(let e=0;e<g.length;e+=1)g[e].c();N=i(),d(a,"class","feed-header-new")},m(e,r){l(e,a,r),n(a,t),l(e,c,r);for(let a=0;a<g.length;a+=1)g[a].m(e,r);l(e,N,r)},p(e,a){if(e.$arrFeedName&&h!==(h=a.feedName+"")&&m(t,h),e.formatDate||e.$arrFeedDataNew||e.$arrFeedName||e.stripTag){let t;for(p=a.$arrFeedDataNew[a.feedName],t=0;t<p.length;t+=1){const r=O(a,p,t);g[t]?g[t].p(e,r):(g[t]=L(r),g[t].c(),g[t].m(N.parentNode,N))}for(;t<g.length;t+=1)g[t].d(1);g.length=p.length}},d(e){e&&(s(a),s(c)),u(g,e),e&&s(N)}}}function L(e){var a,t,c,i,u,N,h,p,g,v,F,$,D,w,b,x=e.feed.title+"",j=W(e.feed.description)+"",C=_(e.feed.public_at)+"";return{c(){a=r("div"),t=r("div"),c=f(),i=r("div"),u=r("div"),N=r("a"),h=o(x),g=f(),v=r("div"),F=o(j),$=f(),D=r("div"),w=o(C),b=f(),d(t,"class","feed-dummy"),d(N,"href",p=e.feed.link),d(N,"class","feed-title-new"),d(N,"target","_blank"),d(v,"class","feed-description-new"),d(u,"class","feed-area-new"),d(D,"class","feed-publish-new"),d(i,"class","feed-info-new"),d(a,"class","feed-item-new")},m(e,r){l(e,a,r),n(a,t),n(a,c),n(a,i),n(i,u),n(u,N),n(N,h),n(u,g),n(u,v),n(v,F),n(i,$),n(i,D),n(D,w),n(a,b)},p(e,a){(e.$arrFeedDataNew||e.$arrFeedName)&&x!==(x=a.feed.title+"")&&m(h,x),(e.$arrFeedDataNew||e.$arrFeedName)&&p!==(p=a.feed.link)&&d(N,"href",p),(e.$arrFeedDataNew||e.$arrFeedName)&&j!==(j=W(a.feed.description)+"")&&m(F,j),(e.$arrFeedDataNew||e.$arrFeedName)&&C!==(C=_(a.feed.public_at)+"")&&m(w,C)},d(e){e&&s(a)}}}function q(e){var a,t=void 0!==e.$arrFeedDataNew[e.feedName]&&e.$arrFeedDataNew[e.feedName].length>0&&H(e);return{c(){t&&t.c(),a=i()},m(e,r){t&&t.m(e,r),l(e,a,r)},p(e,r){void 0!==r.$arrFeedDataNew[r.feedName]&&r.$arrFeedDataNew[r.feedName].length>0?t?t.p(e,r):((t=H(r)).c(),t.m(a.parentNode,a)):t&&(t.d(1),t=null)},d(e){t&&t.d(e),e&&s(a)}}}function A(e){var a;let t=e.$arrFeedName,r=[];for(let a=0;a<t.length;a+=1)r[a]=E(k(e,t,a));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();a=i()},m(e,t){for(let a=0;a<r.length;a+=1)r[a].m(e,t);l(e,a,t)},p(e,d){if(e.$arrFeedName||e.$arrFeedData||e.formatDate||e.getNews){let l;for(t=d.$arrFeedName,l=0;l<t.length;l+=1){const n=k(d,t,l);r[l]?r[l].p(e,n):(r[l]=E(n),r[l].c(),r[l].m(a.parentNode,a))}for(;l<r.length;l+=1)r[l].d(1);r.length=t.length}},d(e){u(r,e),e&&s(a)}}}function B(e){var a,t,c,i,u,h,p,g,v,F,$=V(e.feed.public_at)+"",D=e.feed.title+"",w=_(e.feed.public_at)+"";return{c(){a=r("div"),c=f(),i=r("a"),u=o(D),p=f(),g=r("span"),v=o(w),F=f(),t=new N($,c),d(i,"href",h=e.feed.link),d(i,"class","feed-title"),d(i,"target","_blank"),d(g,"class","feed-publish"),d(a,"class","feed-info")},m(e,r){l(e,a,r),t.m(a),n(a,c),n(a,i),n(i,u),n(a,p),n(a,g),n(g,v),n(a,F)},p(e,a){(e.$arrFeedData||e.$arrFeedName)&&$!==($=V(a.feed.public_at)+"")&&t.p($),(e.$arrFeedData||e.$arrFeedName)&&D!==(D=a.feed.title+"")&&m(u,D),(e.$arrFeedData||e.$arrFeedName)&&h!==(h=a.feed.link)&&d(i,"href",h),(e.$arrFeedData||e.$arrFeedName)&&w!==(w=_(a.feed.public_at)+"")&&m(v,w)},d(e){e&&s(a)}}}function E(e){var a,t,c,i,N,h,p,g=e.feedName+"";let v=e.$arrFeedData[e.feedName],F=[];for(let a=0;a<v.length;a+=1)F[a]=B(C(e,v,a));return{c(){a=r("div"),t=r("div"),c=o(g),i=f(),N=r("div");for(let e=0;e<F.length;e+=1)F[e].c();p=f(),d(t,"class","feed-item_header"),d(N,"class","feed-item"),d(N,"id",h=e.feedName),d(a,"class","feed-column")},m(e,r){l(e,a,r),n(a,t),n(t,c),n(a,i),n(a,N);for(let e=0;e<F.length;e+=1)F[e].m(N,null);n(a,p)},p(e,a){if(e.$arrFeedName&&g!==(g=a.feedName+"")&&m(c,g),e.formatDate||e.$arrFeedData||e.$arrFeedName||e.getNews){let t;for(v=a.$arrFeedData[a.feedName],t=0;t<v.length;t+=1){const r=C(a,v,t);F[t]?F[t].p(e,r):(F[t]=B(r),F[t].c(),F[t].m(N,null))}for(;t<F.length;t+=1)F[t].d(1);F.length=v.length}e.$arrFeedName&&h!==(h=a.feedName)&&d(N,"id",h)},d(e){e&&s(a),u(F,e)}}}function M(e){var a,t,i,o,m,u,N,F,$,_,D,w,b,x,j,C,k,O,y,H,L,q,B,E,M=0==e.$arrFeedName.length&&T(),U=1==e.selected&&S(e),V=0==e.selected&&A(e);return{c(){a=f(),t=r("div"),i=r("div"),o=r("div"),m=r("div"),(u=r("div")).textContent="View",N=f(),F=r("select"),($=r("option")).textContent="List all feed",(_=r("option")).textContent="Only feed new",D=f(),(w=r("div")).innerHTML='<div class="control-item_header">Search</div> <input type="text" name="search" class="control-item_input">',b=f(),x=r("div"),(j=r("div")).textContent="Set Order",C=f(),k=r("select"),(O=r("option")).textContent="column",(y=r("option")).textContent="list",H=f(),L=r("div"),M&&M.c(),q=f(),U&&U.c(),B=f(),V&&V.c(),document.title="Feed",d(u,"class","control-item_header"),$.__value="0",$.value=$.__value,_.__value="1",_.value=_.__value,void 0===e.selected&&h(()=>e.select0_change_handler.call(F)),d(F,"class","control-item_select"),d(m,"class","control-item"),d(w,"class","control-item"),d(j,"class","control-item_header"),O.__value="column",O.value=O.__value,y.__value="list",y.value=y.__value,d(k,"class","control-item_select"),d(x,"class","control-item"),d(o,"class","feed-control"),d(L,"class","feed-row"),d(i,"class","main-feed"),p(i,"min-height","300px"),d(t,"class","content"),E=g(F,"change",e.select0_change_handler)},m(r,d){l(r,a,d),l(r,t,d),n(t,i),n(i,o),n(o,m),n(m,u),n(m,N),n(m,F),n(F,$),n(F,_),v(F,e.selected),n(o,D),n(o,w),n(o,b),n(o,x),n(x,j),n(x,C),n(x,k),n(k,O),n(k,y),n(i,H),n(i,L),M&&M.m(L,null),n(L,q),U&&U.m(L,null),n(L,B),V&&V.m(L,null)},p(e,a){e.selected&&v(F,a.selected),0==a.$arrFeedName.length?M?M.p(e,a):((M=T()).c(),M.m(L,q)):M&&(M.d(1),M=null),1==a.selected?U?U.p(e,a):((U=S(a)).c(),U.m(L,B)):U&&(U.d(1),U=null),0==a.selected?V?V.p(e,a):((V=A(a)).c(),V.m(L,null)):V&&(V.d(1),V=null)},i:c,o:c,d(e){e&&(s(a),s(t)),M&&M.d(),U&&U.d(),V&&V.d(),E()}}}let U=5;function V(e){if(void 0!==e){var a=Date.now()-24*U*60*60*1e3;if(new Date(e).getTime()>=a)return'  <span class="feed-flag">NEW</span>'}return""}function W(e){return e.replace(/<[^>]+>/g,"").substring(0,500)}function z(e,a,t){let r,d,l;F(e,b,e=>{t("$arrFeedName",r=e)}),F(e,x,e=>{t("$arrFeedDataNew",d=e)}),F(e,j,e=>{t("$arrFeedData",l=e)}),D(),w();let n=0;return{selected:n,$arrFeedName:r,$arrFeedDataNew:d,$arrFeedData:l,select0_change_handler:function(){n=$(this),t("selected",n)}}}export default class extends e{constructor(e){super(),a(this,e,z,M,t,[])}}
