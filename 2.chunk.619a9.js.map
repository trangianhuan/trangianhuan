{"version":3,"sources":["webpack:///2.chunk.619a9.js","webpack:///./web/components/home/index.js"],"names":["webpackJsonp","u9QY","module","__webpack_exports__","__webpack_require__","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","TypeError","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","d","Home","_dec","_class","__WEBPACK_IMPORTED_MODULE_0_preact__","__WEBPACK_IMPORTED_MODULE_1_preact_redux__","n","__WEBPACK_IMPORTED_MODULE_2__store_word__","_extends","assign","target","i","arguments","length","source","key","hasOwnProperty","mapStoreToProps","state","words","word","wordsDate","isAdmin","user","_ref","className","_ref2","src","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","connect","mapDispatchToProps","_Component","props","_this","this","cancelDel","e","stopPropagation","setState","isShowDel","deleteWord","db","collection","doc","wordDelKey","delete","then","console","log","catch","error","isShow","updateWord","checkValid","updateFirestore","check","valid","wordEdit","mean_vi","handleClose","handleChange","event","prevState","_extends2","name","handleClick","currentTarget","classList","contains","remove","add","handleEditClick","wordEditKey","handleDelClick","_this2","wordData","updated_at","dateNow","update","render","_this3","title","oldDate","wordItem","map","item","values","created_at","substr","onClick","keys","id","mean_en","synonym","style","display","class","placeholder","type","onChange","href","Component"],"mappings":"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","file":"2.chunk.619a9.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ \"u9QY\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Home; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact__ = __webpack_require__(\"KM04\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_preact___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_preact__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_preact_redux__ = __webpack_require__(\"E/bI\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_word__ = __webpack_require__(\"/m+c\");\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _dec, _class;\n\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n//import styles from '../../../styles/sass/main.scss';\n\n\n\n\nvar mapStoreToProps = function mapStoreToProps(state) {\n  return {\n    words: state.word.words,\n    wordsDate: state.word.wordsDate,\n    isAdmin: state.user.isAdmin\n  };\n};\n\nvar _ref = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('span', { className: 'icon' });\n\nvar _ref2 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { src: '/images/ic_edit.svg' });\n\nvar _ref3 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('img', { src: '/images/ic_edit.svg' });\n\nvar _ref4 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'p',\n  null,\n  'Ch\\u1EAFc ch\\u1EAFn x\\xF3a?'\n);\n\nvar _ref5 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'span',\n  { className: 'mean-item__title' },\n  'mean vietnameme'\n);\n\nvar _ref6 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'span',\n  { className: 'mean-item__title' },\n  'mean english'\n);\n\nvar _ref7 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'span',\n  { className: 'mean-item__title' },\n  'synonym'\n);\n\nvar _ref8 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('p', { className: 'date' });\n\nvar _ref9 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n  'h4',\n  null,\n  'C\\u1EADp nh\\u1EADp t\\u1EEB v\\u1EF1ng'\n);\n\nvar _ref10 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('span', { className: 'error' });\n\nvar _ref11 = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('span', { className: 'error' });\n\nvar Home = (_dec = Object(__WEBPACK_IMPORTED_MODULE_1_preact_redux__[\"b\" /* connect */])(mapStoreToProps, __WEBPACK_IMPORTED_MODULE_2__store_word__[\"f\" /* mapDispatchToProps */]), _dec(_class = function (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    _classCallCheck(this, Home);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _this.cancelDel = function (e) {\n      e.stopPropagation();\n      _this.setState({\n        isShowDel: false\n      });\n    };\n\n    _this.deleteWord = function (e) {\n      e.stopPropagation();\n      db.collection(\"words\").doc(_this.state.wordDelKey).delete().then(function (doc) {\n        console.log(\"Document successfully delete!\");\n      }).catch(function (error) {\n        console.error(\"Error writing document: \", error);\n      });\n      _this.setState({ isShow: false, isShowDel: false });\n    };\n\n    _this.updateWord = function (event) {\n      console.log('step1');\n      if (_this.checkValid()) return;\n      console.log('step2');\n      _this.updateFirestore();\n    };\n\n    _this.checkValid = function () {\n      var check = '';\n\n      _this.setState({ valid: {} });\n\n      if (!_this.state.wordEdit.word) {\n        _this.setState({ valid: _extends({}, _this.state.valid, { word: 'Từ vựng không được để trống' }) });\n        check = 'error';\n      }\n\n      if (!_this.state.wordEdit.mean_vi) {\n        _this.setState({ valid: _extends({}, _this.state.valid, { mean_vi: 'Nghĩa tiếng việt không được để trống' }) });\n        check = 'error';\n      }\n\n      return check;\n    };\n\n    _this.handleClose = function () {\n      _this.setState({ isShow: false });\n    };\n\n    _this.handleChange = function (event) {\n      _this.setState(function (prevState) {\n        var _extends2;\n\n        return {\n          wordEdit: _extends({}, prevState.wordEdit, (_extends2 = {}, _extends2[event.target.name] = event.target.value, _extends2))\n        };\n      });\n    };\n\n    _this.state = {\n      wordEdit: {},\n      valid: {\n        word: '',\n        mean_vi: ''\n      },\n      isShow: false,\n      isShowDel: false\n    };\n    return _this;\n  }\n\n  Home.prototype.handleClick = function handleClick(e) {\n    e.preventDefault;\n    if (e.currentTarget.classList.contains('active')) {\n      e.currentTarget.classList.remove('active');\n    } else {\n      e.currentTarget.classList.add('active');\n    }\n  };\n\n  Home.prototype.handleEditClick = function handleEditClick(e, key, word) {\n    e.stopPropagation();\n    this.setState({\n      wordEdit: word,\n      wordEditKey: key,\n      isShow: true\n    });\n  };\n\n  Home.prototype.handleDelClick = function handleDelClick(e, key) {\n    e.stopPropagation();\n    this.setState({\n      wordDelKey: key,\n      isShowDel: true\n    });\n  };\n\n  Home.prototype.updateFirestore = function updateFirestore() {\n    var _this2 = this;\n\n    var wordData = _extends({}, this.state.wordEdit);\n    wordData.updated_at = dateNow();\n\n    console.log('data UPdate:', wordData);\n\n    db.collection(\"words\").doc(this.state.wordEditKey).update(wordData).then(function (doc) {\n      _this2.setState({ isShow: false });\n      console.log(\"Document successfully updated!\");\n    }).catch(function (error) {\n      console.error(\"Error writing document: \", error);\n    });\n  };\n\n  Home.prototype.render = function render(props) {\n    var _this3 = this;\n\n    var title = '';\n    var oldDate = '';\n    var wordItem = this.props.words.map(function (key, index) {\n      var item = Object.values(key)[0];\n      if (item.created_at.substr(0, 10) != oldDate) {\n        title = Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'li',\n          { className: 'title-item' },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'span',\n            null,\n            item.created_at.substr(0, 10)\n          )\n        );\n        oldDate = item.created_at.substr(0, 10);\n      } else {\n        title = '';\n      }\n\n      return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        null,\n        title,\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'li',\n          { className: '' },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'div',\n            { className: 'word-item', onClick: _this3.handleClick },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'span',\n              null,\n              Object.values(key)[0].word,\n              ' \\xA0'\n            ),\n            _ref,\n            _this3.props.isAdmin && Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'div',\n              null,\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'span',\n                { className: 'icon-edit', onClick: function onClick(e) {\n                    return _this3.handleEditClick(e, Object.keys(key)[0], Object.values(key)[0]);\n                  } },\n                _ref2\n              ),\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'div',\n                { className: 'content-wrap' },\n                Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                  'div',\n                  { className: 'content-detail' },\n                  Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'span',\n                    { className: 'icon-del', onClick: function onClick(e) {\n                        return _this3.handleDelClick(e, Object.keys(key)[0]);\n                      } },\n                    _ref3\n                  ),\n                  _this3.state.isShowDel && Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                    'div',\n                    { className: 'btn-group arrow_box', id: 'nav' },\n                    _ref4,\n                    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                      'span',\n                      { className: 'icon-action cancel', onClick: _this3.cancelDel },\n                      'H\\u1EE7y'\n                    ),\n                    Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                      'span',\n                      { className: 'icon-action del', onClick: function onClick(e) {\n                          return _this3.deleteWord(e, Object.keys(key)[0]);\n                        } },\n                      'X\\xF3a'\n                    )\n                  )\n                )\n              )\n            )\n          ),\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'ul',\n            { className: 'word-mean' },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'mean-item' },\n              _ref5,\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'p',\n                { className: 'mean-item__text' },\n                Object.values(key)[0].mean_vi\n              )\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'mean-item' },\n              _ref6,\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'p',\n                { className: 'mean-item__text' },\n                Object.values(key)[0].mean_en\n              )\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'mean-item' },\n              _ref7,\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n                'p',\n                { className: 'mean-item__text' },\n                Object.values(key)[0].synonym\n              )\n            )\n          )\n        )\n      );\n    });\n\n    return Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n      'div',\n      null,\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { className: 'word-wrap' },\n        _ref8,\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'ul',\n          { className: 'word-list' },\n          wordItem\n        )\n      ),\n      Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n        'div',\n        { id: 'modal1', className: 'modal', style: { 'display': this.state.isShow ? 'block' : 'none' } },\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'span',\n          { 'class': 'close', onClick: this.handleClose },\n          'X'\n        ),\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'div',\n          { className: 'modal-content' },\n          _ref9,\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'ul',\n            { className: 'word-list' },\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'm-b-20' },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { className: 'input', placeholder: 'T\\u1EEB v\\u1EF1ng', name: 'word', type: 'text', value: this.state.wordEdit.word, onChange: this.handleChange }),\n              _ref10\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'm-b-20' },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { className: 'input', placeholder: 'Ngh\\u0129a ti\\u1EBFng vi\\u1EC7t', name: 'mean_vi', type: 'text', value: this.state.wordEdit.mean_vi, onChange: this.handleChange }),\n              _ref11\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'm-b-20' },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { className: 'input', placeholder: 'Ngh\\u0129a ti\\u1EBFng anh', name: 'mean_en', type: 'text', value: this.state.wordEdit.mean_en, onChange: this.handleChange })\n            ),\n            Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n              'li',\n              { className: 'm-b-20' },\n              Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])('input', { className: 'input', placeholder: 'T\\u1EEB \\u0111\\u1ED3ng ngh\\u0129a', name: 'synonym', type: 'text', value: this.state.wordEdit.synonym, onChange: this.handleChange })\n            )\n          )\n        ),\n        Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n          'div',\n          { className: 'modal-footer' },\n          Object(__WEBPACK_IMPORTED_MODULE_0_preact__[\"h\"])(\n            'a',\n            { href: 'javascript:void(0)', onClick: this.updateWord, className: ' modal-action modal-close waves-effect waves-green btn-flat' },\n            'L\\u01B0u'\n          )\n        )\n      )\n    );\n  };\n\n  return Home;\n}(__WEBPACK_IMPORTED_MODULE_0_preact__[\"Component\"])) || _class);\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// 2.chunk.619a9.js","import { h, Component } from 'preact';\n//import styles from '../../../styles/sass/main.scss';\n\nimport { connect } from 'preact-redux';\nimport { mapDispatchToProps } from '../../store/word';\n\nconst mapStoreToProps = (state) => ({\n  words: state.word.words,\n  wordsDate: state.word.wordsDate,\n  isAdmin: state.user.isAdmin,\n})\n\n@connect(mapStoreToProps, mapDispatchToProps)\nexport default class Home extends Component {\n  constructor(props){\n    super(props)\n    this.state={\n      wordEdit:{},\n      valid: {\n        word:'',\n        mean_vi: '',\n      },\n      isShow: false,\n      isShowDel: false,\n    }\n  }\n\n  handleClick(e){\n    e.preventDefault\n    if(e.currentTarget.classList.contains('active')){\n      e.currentTarget.classList.remove('active')\n    } else {\n      e.currentTarget.classList.add('active')\n    }\n  }\n\n  handleEditClick(e, key, word){\n    e.stopPropagation()\n    this.setState({\n      wordEdit: word,\n      wordEditKey: key,\n      isShow: true,\n    })\n  }\n\n  handleDelClick(e, key){\n    e.stopPropagation()\n    this.setState({\n      wordDelKey: key,\n      isShowDel: true,\n    })\n  }\n\n  cancelDel = (e) => {\n    e.stopPropagation()\n    this.setState({\n      isShowDel: false,\n    })\n  }\n\n  deleteWord = (e) => {\n    e.stopPropagation()\n    db.collection(\"words\").doc(this.state.wordDelKey).delete().then((doc) => {\n        console.log(\"Document successfully delete!\");\n    })\n    .catch(function(error) {\n        console.error(\"Error writing document: \", error);\n    });\n    this.setState({ isShow: false , isShowDel: false})\n  }\n\n  updateWord = (event) => {\n    console.log('step1')\n    if(this.checkValid()) return;\nconsole.log('step2')\n    this.updateFirestore();\n  }\n\n  updateFirestore(){\n    let wordData = {...this.state.wordEdit}\n    wordData.updated_at = dateNow()\n\n    console.log('data UPdate:', wordData)\n\n    db.collection(\"words\").doc(this.state.wordEditKey).update(wordData).then((doc) => {\n      this.setState({ isShow: false })\n      console.log(\"Document successfully updated!\");\n    })\n    .catch(function(error) {\n      console.error(\"Error writing document: \", error);\n    });\n  }\n\n  checkValid = () => {\n    let check = ''\n\n    this.setState({ valid: {} })\n\n    if(!this.state.wordEdit.word){\n      this.setState({ valid: { ...this.state.valid, word: 'Từ vựng không được để trống'} });\n      check = 'error'\n    }\n\n    if(!this.state.wordEdit.mean_vi){\n      this.setState({ valid: { ...this.state.valid, mean_vi: 'Nghĩa tiếng việt không được để trống'} });\n      check = 'error'\n    }\n\n    return check;\n  }\n\n  handleClose = () => {\n    this.setState({ isShow: false })\n  }\n\n  handleChange = (event) => {\n    this.setState(function(prevState) {\n      return {\n        wordEdit: {...prevState.wordEdit, [event.target.name]: event.target.value }\n      }\n    })\n  }\n\n  render(props) {\n    let title = ''\n    let oldDate = ''\n    let wordItem = this.props.words.map((key, index) => {\n      let item = Object.values(key)[0]\n      if(item.created_at.substr(0,10) != oldDate){\n        title = <li className=\"title-item\"><span>{item.created_at.substr(0,10)}</span></li>\n        oldDate = item.created_at.substr(0,10)\n      } else {\n        title = ''\n      }\n\n      return <div>\n        { title }\n        <li className=\"\">\n          <div className=\"word-item\" onClick={this.handleClick}>\n            <span>{ Object.values(key)[0].word } &nbsp;</span>\n            <span className=\"icon\"></span>\n            {this.props.isAdmin && (\n              <div>\n                <span className=\"icon-edit\" onClick={(e) => this.handleEditClick(e, Object.keys(key)[0], Object.values(key)[0])} >\n                  <img src=\"/images/ic_edit.svg\" />\n                </span>\n\n                <div className=\"content-wrap\">\n                  <div className=\"content-detail\">\n                    <span className=\"icon-del\" onClick={(e) => this.handleDelClick(e, Object.keys(key)[0])}>\n                      <img src=\"/images/ic_edit.svg\" />\n                    </span>\n                    { this.state.isShowDel && (\n                      <div className=\"btn-group arrow_box\" id=\"nav\">\n                        <p>Chắc chắn xóa?</p>\n                        <span className=\"icon-action cancel\" onClick={this.cancelDel}>Hủy</span>\n                        <span className=\"icon-action del\" onClick={(e) => this.deleteWord(e, Object.keys(key)[0])}>Xóa</span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n          <ul className=\"word-mean\">\n            <li className=\"mean-item\">\n              <span className=\"mean-item__title\">mean vietnameme</span>\n              <p className=\"mean-item__text\">{ Object.values(key)[0].mean_vi }</p>\n            </li>\n            <li className=\"mean-item\">\n              <span className=\"mean-item__title\">mean english</span>\n              <p className=\"mean-item__text\">{ Object.values(key)[0].mean_en }</p>\n            </li>\n            <li className=\"mean-item\">\n              <span className=\"mean-item__title\">synonym</span>\n              <p className=\"mean-item__text\">{ Object.values(key)[0].synonym }</p>\n            </li>\n          </ul>\n        </li>\n      </div>\n    });\n\n    return (\n      <div>\n        <div className=\"word-wrap\">\n          <p className=\"date\"></p>\n\n          <ul className=\"word-list\">\n            { wordItem }\n          </ul>\n        </div>\n\n        <div id=\"modal1\" className=\"modal\" style={{ 'display' : this.state.isShow ? 'block' : 'none' }}>\n          <span class=\"close\" onClick={this.handleClose}>X</span>\n          <div className=\"modal-content\">\n          <h4>Cập nhập từ vựng</h4>\n          <ul className=\"word-list\">\n            <li className=\"m-b-20\">\n              <input className=\"input\" placeholder=\"Từ vựng\" name=\"word\" type=\"text\" value={this.state.wordEdit.word} onChange={this.handleChange} />\n              <span className=\"error\"></span>\n            </li>\n            <li className=\"m-b-20\">\n              <input className=\"input\" placeholder=\"Nghĩa tiếng việt\" name=\"mean_vi\" type=\"text\" value={this.state.wordEdit.mean_vi} onChange={this.handleChange} />\n              <span className=\"error\"></span>\n            </li>\n            <li className=\"m-b-20\">\n              <input className=\"input\" placeholder=\"Nghĩa tiếng anh\" name=\"mean_en\" type=\"text\" value={this.state.wordEdit.mean_en} onChange={this.handleChange} />\n            </li>\n            <li className=\"m-b-20\">\n              <input className=\"input\" placeholder=\"Từ đồng nghĩa\" name=\"synonym\" type=\"text\" value={this.state.wordEdit.synonym} onChange={this.handleChange} />\n            </li>\n          </ul>\n          </div>\n          <div className=\"modal-footer\">\n          <a href=\"javascript:void(0)\" onClick={this.updateWord}  className=\" modal-action modal-close waves-effect waves-green btn-flat\">Lưu</a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./web/components/home/index.js"],"sourceRoot":""}