webpackJsonp([1],{"4QEP":function(){},KeK4:function(e,t,n){"use strict";function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return m});var o,i,s=n("KM04"),c=(n.n(s),n("4QEP")),l=(n.n(c),n("E/bI")),d=n("/m+c"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(e){return{words:e.word.words,wordsDate:e.word.wordsDate,isAdmin:e.user.isAdmin}},p=Object(s.h)("p",{className:"date"}," "),b=Object(s.h)("span",null," Save "),m=(o=Object(l.b)(u,d.f))(i=function(e){function t(t){var n=a(this,e.call(this,t));return n.handleChange=function(e){n.setState(function(t){var n;return{word:h({},t.word,(n={},n[e.target.name]=e.target.value,n))}})},n.handleClick=function(){n.checkValid()||n.regFirestore()},n.state={word:{word:"",mean_vi:"",mean_en:"",synonym:"",created_at:Math.round((new Date).getTime()/1e3),updated_at:Math.round((new Date).getTime()/1e3)},valid:{word:"",mean_vi:""}},n}return r(t,e),t.prototype.regFirestore=function(){var e=h({},this.state.word);e.created_at=dateNow(),e.updated_at=dateNow(),db.collection("words").add(e).then(function(){}).catch(function(e){console.error("Error writing document: ",e)})},t.prototype.regRealtimeDb=function(){var e=this,t=db.ref("words").child("all").push().key,n=h({},this.state);word.created_at=Math.round((new Date).getTime()/1e3);var a={};if(t){var r=dateNow()||new Date;a["all/"+t]=n,a["date/"+r+"/"+t]=n,db.ref("words").update(a).then(function(){var a;e.props.addWord((a={},a[t]=n,a))})}},t.prototype.checkValid=function(){var e="";return this.setState({valid:{}}),this.state.word.word||(this.setState({valid:h({},this.state.valid,{word:"Từ vựng không được để trống"})}),e="error"),this.state.word.mean_vi||(this.setState({valid:h({},this.state.valid,{mean_vi:"Nghĩa tiếng việt không được để trống"})}),e="error"),e},t.prototype.render=function(){return Object(s.h)("div",null,Object(s.h)("div",{className:"word-wrap"},p,Object(s.h)("ul",{className:"word-list",style:"margin-top:10px"},Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Từ vựng",name:"word",type:"text",value:this.state.word.word,onChange:this.handleChange}),Object(s.h)("span",{className:"error"},this.state.valid.word)),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Nghĩa tiếng việt",name:"mean_vi",type:"text",value:this.state.word.mean_vi,onChange:this.handleChange}),Object(s.h)("span",{className:"error"},this.state.valid.mean_vi)),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Nghĩa tiếng anh",name:"mean_en",type:"text",value:this.state.word.mean_en,onChange:this.handleChange})),Object(s.h)("li",{class:"m-b-20"},Object(s.h)("input",{className:"input",placeholder:"Từ đồng nghĩa",name:"synonym",type:"text",value:this.state.word.synonym,onChange:this.handleChange})),Object(s.h)("li",{className:"m-b-20"},Object(s.h)("button",{className:"btn btn-save",onClick:this.handleClick},b)))))},t}(s.Component))||i}});
//# sourceMappingURL=1.chunk.9e26a.js.map